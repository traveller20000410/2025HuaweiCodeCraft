# huawei-code-craft2025
2025华为软件精英挑战赛粤港赛赛区复赛题解 。本项目旨在针对大规模分布式存储系统中的读写调度与数据布局优化问题，设计一套高效且鲁棒的算法策略。在比赛中，我们需要在有限的磁头切换和时间片资源下，最大化吞吐量并尽量减少延时惩罚。

本仓库基于主办方提供的任务书，实现了以下核心思路：

1. 标签驱动的写入聚合，有效将同类数据聚集到相邻区块；
2. 令牌感知的动态读调度，利用短窗口动态规划平衡热点扫描与全盘巡航；
3. 定期碎片整理（GC），保证长期运行后系统的连续读性能；
4. 多副本并行机制，在并发与异常情况下确保高可用性。



1. 标签预测与写入聚合

   对写入对象若无标签，先用历史读写行为在线反向推断（半监督概率）。
    根据标签将对象拆分块后，优先落在同标签热点块（`tag_block`）中；对新标签或空间不足时，从全局最空闲区块选取，并动态将区块标记为该标签。

2. 动态读调度

   构建预计算表 `p2r[s][t]`，用有限令牌下的短窗口（MAX\_PR）模式判断是“连续读”还是“跳转”最优；
    每个指针（磁头）在每个时间片内，通过 DP 计算最佳读/跳序列，实时平衡局部热点与全盘巡航。

3. 碎片整理（GC）

   在周期触发（时间片整除 1800）时，按块中空—实交替程度排序，优先交换碎片最严重的区段；
   限制每盘交换次数 $K_1/K_2$，并实时更新区块信息，逐步消除同标签数据间的间隙。

4. 过载保护与超时快速失败

   维护读请求队列，若超过 105 个时间片未完成，则立即标记为“繁忙”并扣分；
   当队列积压或令牌耗尽时，优先快速失败以保证系统可用性。

5. 多副本并行读写

   对每个对象写入 3 副本，副本间块内连续，只要任一副本的所有块被读即可完成请求；
   读取时允许跨副本分片并行，进一步缩短响应延迟。



